{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yoji/Desktop/Software engineer/Job hunting 2022.11/tablecheck-demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"/Users/yoji/Desktop/Software engineer/Job hunting 2022.11/tablecheck-demo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"/Users/yoji/Desktop/Software engineer/Job hunting 2022.11/tablecheck-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { LocaleCode, ordered as orderedLocales } from '@tablecheck/locales';\nimport i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport en from './locales/en.json';\nvar SUPPORTED_LOCALES = orderedLocales.map(_c = function _c(_ref) {\n  var code = _ref.code;\n  return code;\n});\n_c2 = SUPPORTED_LOCALES;\nvar DEFAULT_LOCALE = LocaleCode.English;\ni18next.use(initReactI18next).use(LanguageDetector).use({\n  type: 'backend',\n  read: function read(language, namespace, callback) {\n    import(\"./locales/\".concat(language, \".json\")).then(function (resources) {\n      // eslint-disable-next-line promise/no-callback-in-promise\n      callback(null, resources);\n    })[\"catch\"](function (error) {\n      // eslint-disable-next-line promise/no-callback-in-promise\n      callback(error, null);\n    });\n  }\n});\nexport function initI18n() {\n  return _initI18n.apply(this, arguments);\n}\n\nfunction _initI18n() {\n  _initI18n = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (i18next.isInitialized) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return i18next.init({\n              resources: {\n                en: {\n                  translations: en\n                }\n              },\n              partialBundledLanguages: true,\n              fallbackLng: DEFAULT_LOCALE,\n              supportedLngs: _toConsumableArray(SUPPORTED_LOCALES),\n              ns: ['translations'],\n              defaultNS: 'translations',\n              debug: CONFIG.isDevelopment,\n              interpolation: {\n                escapeValue: false // not needed for react!!\n\n              },\n              react: {\n                useSuspense: false\n              }\n            });\n\n          case 3:\n            return _context.abrupt(\"return\", i18next);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _initI18n.apply(this, arguments);\n}\n\nexport function getI18nextInstance() {\n  if (!i18next.isInitialized) throw new Error(\"i18next hasn't been initialized yet\");\n  return i18next;\n}\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SUPPORTED_LOCALES$orderedLocales.map\");\n$RefreshReg$(_c2, \"SUPPORTED_LOCALES\");","map":{"version":3,"names":["LocaleCode","ordered","orderedLocales","i18next","LanguageDetector","initReactI18next","en","SUPPORTED_LOCALES","map","code","DEFAULT_LOCALE","English","use","type","read","language","namespace","callback","then","resources","error","initI18n","isInitialized","init","translations","partialBundledLanguages","fallbackLng","supportedLngs","ns","defaultNS","debug","CONFIG","isDevelopment","interpolation","escapeValue","react","useSuspense","getI18nextInstance","Error"],"sources":["/Users/yoji/Desktop/Software engineer/Job hunting 2022.11/tablecheck-demo/src/i18n/index.ts"],"sourcesContent":["import { LocaleCode, ordered as orderedLocales } from '@tablecheck/locales';\nimport i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport en from './locales/en.json';\n\nconst SUPPORTED_LOCALES = orderedLocales.map(({ code }) => code);\nconst DEFAULT_LOCALE = LocaleCode.English;\n\ni18next\n  .use(initReactI18next)\n  .use(LanguageDetector)\n  .use({\n    type: 'backend',\n    read<Namespace extends keyof typeof en>(\n      language: LocaleCode,\n      namespace: Namespace,\n      callback: (\n        errorValue: unknown,\n        translations: null | typeof en[Namespace]\n      ) => void\n    ) {\n      import(`./locales/${language}.json`)\n        .then((resources) => {\n          // eslint-disable-next-line promise/no-callback-in-promise\n          callback(null, resources);\n        })\n        .catch((error) => {\n          // eslint-disable-next-line promise/no-callback-in-promise\n          callback(error, null);\n        });\n    }\n  });\n\nexport async function initI18n(): Promise<typeof i18next> {\n  if (!i18next.isInitialized) {\n    await i18next.init({\n      resources: { en: { translations: en } },\n      partialBundledLanguages: true,\n      fallbackLng: DEFAULT_LOCALE,\n      supportedLngs: [...SUPPORTED_LOCALES],\n      ns: ['translations'],\n      defaultNS: 'translations',\n      debug: CONFIG.isDevelopment,\n      interpolation: {\n        escapeValue: false // not needed for react!!\n      },\n      react: {\n        useSuspense: false\n      }\n    });\n  }\n\n  return i18next;\n}\n\nexport function getI18nextInstance(): typeof i18next {\n  if (!i18next.isInitialized)\n    throw new Error(\"i18next hasn't been initialized yet\");\n  return i18next;\n}\n"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,OAAO,IAAIC,cAAhC,QAAsD,qBAAtD;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAOC,gBAAP,MAA6B,kCAA7B;AACA,SAASC,gBAAT,QAAiC,eAAjC;AACA,OAAOC,EAAP,MAAe,mBAAf;AAEA,IAAMC,iBAAiB,GAAGL,cAAc,CAACM,GAAf,MAAmB;EAAA,IAAGC,IAAH,QAAGA,IAAH;EAAA,OAAcA,IAAd;AAAA,CAAnB,CAA1B;MAAMF,iB;AACN,IAAMG,cAAc,GAAGV,UAAU,CAACW,OAAlC;AAEAR,OAAO,CACJS,GADH,CACOP,gBADP,EAEGO,GAFH,CAEOR,gBAFP,EAGGQ,GAHH,CAGO;EACHC,IAAI,EAAE,SADH;EAEHC,IAFG,gBAGDC,QAHC,EAIDC,SAJC,EAKDC,QALC,EASD;IACA,2BAAoBF,QAApB,YACGG,IADH,CACQ,UAACC,SAAD,EAAe;MACnB;MACAF,QAAQ,CAAC,IAAD,EAAOE,SAAP,CAAR;IACD,CAJH,WAKS,UAACC,KAAD,EAAW;MAChB;MACAH,QAAQ,CAACG,KAAD,EAAQ,IAAR,CAAR;IACD,CARH;EASD;AAnBE,CAHP;AAyBA,gBAAsBC,QAAtB;EAAA;AAAA;;;yEAAO;IAAA;MAAA;QAAA;UAAA;YAAA,IACAlB,OAAO,CAACmB,aADR;cAAA;cAAA;YAAA;;YAAA;YAAA,OAEGnB,OAAO,CAACoB,IAAR,CAAa;cACjBJ,SAAS,EAAE;gBAAEb,EAAE,EAAE;kBAAEkB,YAAY,EAAElB;gBAAhB;cAAN,CADM;cAEjBmB,uBAAuB,EAAE,IAFR;cAGjBC,WAAW,EAAEhB,cAHI;cAIjBiB,aAAa,qBAAMpB,iBAAN,CAJI;cAKjBqB,EAAE,EAAE,CAAC,cAAD,CALa;cAMjBC,SAAS,EAAE,cANM;cAOjBC,KAAK,EAAEC,MAAM,CAACC,aAPG;cAQjBC,aAAa,EAAE;gBACbC,WAAW,EAAE,KADA,CACM;;cADN,CARE;cAWjBC,KAAK,EAAE;gBACLC,WAAW,EAAE;cADR;YAXU,CAAb,CAFH;;UAAA;YAAA,iCAmBEjC,OAnBF;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C;;;;AAsBP,OAAO,SAASkC,kBAAT,GAA8C;EACnD,IAAI,CAAClC,OAAO,CAACmB,aAAb,EACE,MAAM,IAAIgB,KAAJ,CAAU,qCAAV,CAAN;EACF,OAAOnC,OAAP;AACD"},"metadata":{},"sourceType":"module"}